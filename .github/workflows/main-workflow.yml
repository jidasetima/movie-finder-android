name: Main Workflow
run-name: ${{ github.actor }} has triggered Main Workflow
on: [ push ]
jobs:
#  build:
#    runs-on: ubuntu-latest
#    steps:
#      - name: Checkout and clone repository branch ${{ github.ref }}
#        uses: actions/checkout@v4
#      - name: Create app.properties configuration file
#        run: echo "TMDB_API_KEY = ${{ secrets.TMDB_API_KEY }}" > app.properties
#      - name: Setup JDK 17
#        uses: actions/setup-java@v4
#        with:
#          java-version: '17'
#          distribution: 'temurin'
#          cache: gradle
#      - name: Grant execute permission for gradlew
#        run: chmod +x gradlew
#      - name: Build with Gradle
#        run: ./gradlew build
#      - run: echo "The build job's status is ${{ job.status }}."
  unit-test:
#    needs: build
    runs-on: ubuntu-latest
    steps:
      - name: Checkout and clone repository branch ${{ github.ref }}
        uses: actions/checkout@v4
      - name: Create app.properties configuration file
        run: echo "TMDB_API_KEY = ${{ secrets.TMDB_API_KEY }}" > app.properties
      - name: Setup JDK 17
        uses: actions/setup-java@v4
        with:
          java-version: '17'
          distribution: 'temurin'
          cache: gradle
      - name: Grant execute permission for gradlew
        run: chmod +x gradlew
      - name: Run release unit tests
        run: ./gradlew testReleaseUnitTest
      - run: echo "The unit-test job's status is ${{ job.status }}."




  #  name: GitHub Action Demo
#  run-name: ${{ github.actor }} is testing out GitHub Actions
#  on: [ push ]
#  jobs:
#    Explore-GitHub-Actions:
#      runs-on: ubuntu-latest
#      steps:
#        - run: echo "The job was automatically triggered by a ${{ github.event_name }} event."
#        - run: echo "This job is now running on a ${{ runner.os }} server hosted by GitHub!"
#        - run: echo "The name of your branch is ${{ github.ref }} and your repository is ${{ github.repository }}."
#        - name: Check out repository code
#          uses: actions/checkout@v4
#        - run: echo "the ${{ github.repository }} repository has been cloned to the runner."
#        - name: List files in the repository
#          run: |
#            ls ${{ github.workspace }}
#        - run: echo "This job's status is ${{ job.status }}."

  #name: GitHub Actions Demo
  #run-name: ${{ github.actor }} is testing out GitHub Actions 🚀
  #on: [push]
  #jobs:
  #  Explore-GitHub-Actions:
  #    runs-on: ubuntu-latest
  #    steps:
  #      - run: echo "🎉 The job was automatically triggered by a ${{ github.event_name }} event."
  #      - run: echo "🐧 This job is now running on a ${{ runner.os }} server hosted by GitHub!"
  #      - run: echo "🔎 The name of your branch is ${{ github.ref }} and your repository is ${{ github.repository }}."
  #      - name: Check out repository code
  #        uses: actions/checkout@v4
  #      - run: echo "💡 The ${{ github.repository }} repository has been cloned to the runner."
  #      - run: echo "🖥️ The workflow is now ready to test your code on the runner."
  #      - name: List files in the repository
  #        run: |
  #          ls ${{ github.workspace }}
  #      - run: echo "🍏 This job's status is ${{ job.status }}."
